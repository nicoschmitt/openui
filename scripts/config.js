"use strict";!function(){function e(e){for(var o=window.location.search.substring(1),t=o.split("&"),s=0;s<t.length;s++){var r=t[s].split("=");if(r[0]==e)return r[1]}}var o={locale:"en",websocket:"http://localhost:8000",followPlayer:!1,noPopup:!1,noConfirm:!1,memory:{limit:!1,maxCaught:50,mathPath:1e4,maxPokestops:250},version:"online"},t={};if("function"==typeof require){console.log("Load config from disk");var s=require("path"),r=require("fs"),i=require("electron"),n=i.remote,a=s.join(n.app.getPath("userData"),"settings.json");t.load=function(){var e=Object.assign({},o);try{var t=r.readFileSync(a,"utf-8");t&&Object.assign(e,JSON.parse(t)),e.websocket.startsWith("ws")&&(e.websocket=o.websocket),e.memory=o.memory,e.version="app"}catch(t){configService.save(o),e=Object.assign({},o)}return e},t.save=function(e){r.writeFileSync(a,JSON.stringify(e))}}else console.log("Load config from storage"),t.load=function(){var t=Object.assign({},o),s=localStorage.getItem("config");s&&Object.assign(t,JSON.parse(s)),t.websocket.startsWith("ws")&&(t.websocket=o.websocket);var r=e("websocket");return r&&(t.websocket=r),t.memory=o.memory,t},t.save=function(e){localStorage.setItem("config",JSON.stringify(e))};window.configService=t}();